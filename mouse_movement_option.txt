import pygame
pygame.init()
pygame.mixer.init()


# window
WIN_WIDTH, WIN_HEIGHT = 1280, 720
WINDOW = pygame.display.set_mode((WIN_WIDTH, WIN_HEIGHT))
pygame.mouse.set_visible(False)
CURSOR_IMG = pygame.image.load("assets/cursor.png")
CURSOR_IMG_RECT = CURSOR_IMG.get_rect()


# setting variables
FPS = 60
VELOCITY = 10


# objects
PLAYER_IMAGE = pygame.image.load("assets/player_cube_pink.png")
P_WIDTH, P_HEIGHT = PLAYER_IMAGE.get_width(), PLAYER_IMAGE.get_height()
PLAYER = PLAYER_IMAGE


def draw_window(player):
    WINDOW.fill((0, 0, 0))
    WINDOW.blit(CURSOR_IMG, CURSOR_IMG_RECT)
    WINDOW.blit(PLAYER, (player.x, player.y))

    pygame.display.update()


def main():
    player = pygame.Rect(100, 300, P_WIDTH, P_HEIGHT)

    TARGET_X = 0
    TARGET_Y = 0

    clock = pygame.time.Clock()
    run = True

    while run:
        for event in pygame.event.get():
            if event.type == pygame.MOUSEMOTION:
                TARGET_X = event.pos[0]-P_WIDTH/2
                TARGET_Y = event.pos[1]-P_HEIGHT/2

            if event.type == pygame.QUIT:
                run = False
                pygame.quit()
    
        if player.x > TARGET_X:
            player.x -= VELOCITY
        if player.x < TARGET_X:
            player.x += VELOCITY
        if player.y > TARGET_Y:
            player.y -= VELOCITY
        if player.y < TARGET_Y:
            player.y += VELOCITY

        CURSOR_IMG_RECT.topleft = pygame.mouse.get_pos()
        draw_window(player)
        clock.tick(FPS)


if __name__ == "__main__":
    main()